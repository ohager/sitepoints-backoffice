<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">


<dom-module id="account-canvas">
    <style>
        :host {
            display: block;
        }
    </style>
    <template>
        <paper-material elevation="1">

            <paper-card heading="API Key">
                <code>[[apiKey]]</code>
            </paper-card>

        </paper-material>
    </template>

    <script>
        (function () {

            "use strict";
            Polymer({
                is: 'account-canvas',

                properties: {
                    apiKey : String
                },

                attached : function(){
                    var user = JSON.parse(window.localStorage.getItem('user'));
                    var restapi = fermata.json(window.global.config.apiroot);
                    restapi('account')(user.user).get(function (error, result) {
                        this.apiKey = result.apikey;
                    }.bind(this));
                }

            });
        })();
    </script>

</dom-module>

