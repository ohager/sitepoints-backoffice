<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">


<dom-module id="account-canvas">
    <style>
        :host {
            display: block;
        }

        #cards {
        @apply(--layout-vertical);
        @apply(--center-justified);
            max-width: 640px;
            margin-left: auto;
            margin-right: auto;
        }

        paper-card {
            width: 100%;
            margin-bottom: 16px;
        }

    </style>
    <template>
        <div id="cards">
            <paper-card heading="API Key">
                <div class="card-content">
                    <code>[[account.apikey]]</code>
                </div>
            </paper-card>

            <paper-card heading="Account Information">
                <div class="card-content">
                    <em>[[account.firstName]]</em>
                    <em>[[account.lastName]]</em>
                    <em>[[account.user]]</em>
                </div>
            </paper-card>
        </div>
    </template>

    <script>
        (function () {

            "use strict";
            Polymer({
                is: 'account-canvas',

                properties: {
                    account : Object
                },

                attached : function(){
                    var user = JSON.parse(window.localStorage.getItem('user'));
                    var restapi = fermata.json(window.global.config.apiroot);
                    restapi('account')(user.user).get(function (error, result) {
                        this.account = result;
                    }.bind(this));
                }

            });
        })();
    </script>

</dom-module>

